title: '主题修改：欲思主题常见问题与解答[非官方FAQ]'
author: ddhsa
tags:
  - 欲思主题
  - 问题
categories: []
date: 2019-03-02 17:20:00
---
![blob.jpg](http://cdn.pidaye.top/yusiboke.jpg)
> 前言
注意：懒得看目录的亲，请直接使用Ctrl+F搜索关键字查询
首先感谢欲思提供的这款优秀的主题，主题的强大无需多说
博猪发现还是有一些朋友在使用中有各种各样的问题，博猪将这些问题集中起来，然后一起解答，希望能帮到诸位
PS ，其实很多都不是主题问题，而是WordPress的使用常识而已。
注意！
1，在修改主题之前，建议先进行网站备份；
2，编辑代码绝对不准使用记事本或者WordPress自带的主题编辑功能；
3，编辑代码全过程使用UTF-8编码方式

## 缩略图问题
首先需要检查下主机是否开启了GD库

作者给出了缩略图解决方案
wordpress使用timthumb和七牛云存储函数实现缩略图

在主题文件夹内timthumb.php文件内添加图片域名第133行至第141行，添加自己的图片域名，建议添加自己的博客域名，如果临时用七牛，添加http://[空间名].qiniudn.com。
在和timthumb.php同一个目录下新建一个cache文件夹用来存储生成的小图片，设置cache文件夹为 755 或 777 权限

请使用绝对地址来表示原有图片，该程序不支持外链图片。
## 头部字体
2014-07-29_104252

先看下我是怎么解决的

2014-09-25_195951
如何修改头部字体，头部字体采用的是有字库中文版在线字体，首先需要在有字库注册

注册有字库
引用有字库字体
在有字库里面选择一个自己喜欢的字体，然后跟着来就是了


获取字体代码


一个网站名称，另一个是网站描述，所以需要2个字体，即便是网站标题和描述采用同样的字体也需要两次这样做。
然后用你的字体相关数据替换下面的代码
替换方法
把第二个的红框里面的代码替换掉下面代码的第一行
把第一个红框里面的代码替换掉第三行花括号里面代码
然后网站描述重复做一次
将代码放在主题文件夹header.php文件里面的标签内
将以下代码按照自己字体修改后添加到header.php文件标签内
```
 href='http://www.youziku.com/webfont/CSS/xxxxxxxxxxxxxxxxxxx' rel='stylesheet' type='text/css'/>  href='http://www.youziku.com/webfont/CSS/xxxxxxxxxxxxxx' rel='stylesheet' type='text/css'/>  type="text/css">.yusi-mono{font-family:yyyyyyyyyyyyyy;}.yusi-bloger{font-family:yyyyyyyyyyyyyyyy;}
```

so easy！so happy！

注意
由于有字库偶尔不太稳定，引用在线字体可能会拖慢网站打开速度
您可以选择将字体保存在本地引用


如果您只是想修改掉默认字体，改成楷体，仿宋等等常见字体，那么这个方法可能最简单

在header.php文件搜索以下代码
```
 class="yusi-mono">
 ```

替换成以下代码

```
 style="font-family:楷体;" class="yusi-mono">
就可以替换掉网站标题为楷体字体了。
```

在header.php文件搜索以下代码
```
 class="yusi-bloger">
 ```
替换成以下代码
```
 style="font-family:楷体;" class="yusi-bloger">
 ```
就可以替换掉网站描述成楷体字体了
然后可能还有人既想要漂亮的字体，有想要不影响网页加载速度，那么可以参考这里 缓存本地有字库

## 百度分享样式错乱
看到这个样子是不是很搓火？


开启百度分享之后发现样式错乱，怎么回事？
其实很简单，打开主题文件/js/jquery.js
在代码编辑器里面ctrl+F搜索yusi
将/wp-content/themes/yusi1.0/share.css中间的yusi1.0改为你目前的主题名字
总之，就是你如果把主题名字改了的话就会出现这个问题
如果你的事二级域名博客，比如blog.googlo.me，那么还需要添加你的二级域名blog/wp-content/themes/yusi1.0/share.css
看看下面做好的效果


## 彩色标签

主题自带功能，控制面板——外观——小工具——标签云，添加即可


## 二级菜单

▲欲思主题是支持多级菜单的，一般二级菜单就够了，其他用不着了。
开启主题二级菜单，进入后台》外观》菜单，将菜单中的任意一个拖放至任意一个菜单下
2014-09-11_164159
关于多级菜单，推荐浏览知更鸟的更详细的说明

WordPress导航菜单图文使用教程

## 下拉自动加载
2014-09-25_205215
看到主题作者的底部自动加载了吗？想要？
网站后台——主题设置—— 开启列表Ajax加载分页内容
2014-09-25_205436

## 显示H2绿色边缘以及下划线
主题的h2标题都有样式，只是在文章页面外，所以在手机里面看不到，将以下代码添加到sigle.php文件上面就好了
```
 type="text/css">.article-content h2 {border-left: 8px solid #00A67C; border-bottom: 2px solid #00A67C; }
 ```

## 代码高亮
主题支持代码高亮，采用google-code-prettyprint着色方案

```
[pre class="prettyprint linenums" >代码内容pre]
注意，将代码中的[]改为<>
```

害怕切换主题之后代码乱掉？？？采用同样采用google-code-prettyprint着色方案的代码插件就好了
## 下载，链接按钮
链接地址下载链接开源地址

```
 {dm href=''}链接地址{/dm}{dl href=''}下载链接{/dl}{gt href=''}开源地址{/gt}
 ```
注意，将代码中的{}改为 []
## 幻灯片错乱
2014-09-26_141350
首先你需要启用幻灯片功能（主题设置，启用幻灯片）
标准图片尺寸为716*297，需要保证第一幅图片尺寸为716*297，另外特色图片最好也要716*297

在上传图片的时候注意需要插入的是完整尺寸，而不是缩放的
## 友情链接在哪？
WordPress自带了友情链接功能，只是被隐藏了，恢复友情连接功能

恢复WordPress隐藏的友情链接功能

## 代码神秘失踪
插入代码的时候可能会被转义，可以通过先在html编辑器点击代码按钮，然后切换到可视化编辑器添加代码，所以，代码可以留到文章结尾添加。

由于代码转义，添加不方便等等原因，个人推荐使用代码高亮插件，个人目前使用的代码高亮插件是wp-code-highlight

关于wp-code-highlight，您可能需要阅读这些文章；
WordPress代码高亮插件：WP Code Highlight
修改WP-Code-Highlight插件支持自动换行

## 点击喜欢没有+1
不建议使用代码压缩插件压缩js文件
## 网站图标不显示，只有4个数字
主题采用了部分图标字体，换一个浏览器试试

## 那些社交图标
2014-09-26_142506
后台——主题设置，开启即可，另外图标数量不建议超过6个，否则会出错。
新浪微博，腾讯微博开启后直接添加链接即可，比如我的新浪微博：http://weibo.com/u/3916790072，另外求关注哈
腾讯微信填入微信账号，比如我的是yunluoV587，然后再主题images目录上传weixin.gif二维码图片
邮箱代码推荐使用QQ邮箱的邮我组件。QQ邮件的邮我组建的使用教程最后获取的代码是这样的：
http://mail.qq.com/cgi-bin/qm_share?t=qm_mailme&email=luXmr6fW8Pnu_-f-_rj1_fs
QQ填写代码 tencent://message/?uin=755782106&Site=&Menu=yes，将代码中的数字改为自己的QQ号

## 微信图标一直是作者的
下载最新版主题覆盖即可！

## 特别推荐模块
主题自带，后台，外观，小工具，特别推荐模块。

## 搜索不能用
首先要说明的，搜索有问题的一般都是环境问题
如果 http://博客域名/?s=2014 可以打开的话，下面这个方法可以有效

在header.php文件里查找这段代码
onsubmit="location.href=''
改为

onsubmit="location.href='/?s='
## 头像不显示
在主题后台开启头像缓存，然后在WordPress程序根目录新建avatar文件夹，然后授予777权限，OK！

## 热门排行不显示
应该是最近评论数量不多，可以考虑在提高天数

## 左右移动LOGO
2014-10-02_193446
你是不是想要这样？？？如何做到？？其实很简单，和添加本地头部字体一样，搜索以下代码

  class="yusi-mono">乐趣公园
替换成以下代码

 style="left : -365px;" class="yusi-mono">乐趣公园
其实就是给class=yusi-mono添加一个left : -365px;属性，具体大小看你自己，网站描述是同样的道理。

## 热门排行不显示
热门排行是按照评论数目排行的，如果你的热门排行不显示，那就是你的网站评论数目太少了-_-||，另外主题默认的天数是7天，也就是一周，修改天数为30，改成一个月吧。应该会有显示的。

## 如何添加文章置顶
文章置顶方法：
方法一、编辑文章时，左侧发布面板 → 公开度 → 勾选“将文章置于首页顶端”
方法二、打开所有文章页面 → 快速编辑 → 勾选“置顶这篇文章 ”

## 侧边栏小工具不显示评论
最新评论小工具，排除管理员ID，差不多都是1
image

## 添加注册以及后台管理按钮
111333
在主题header.php文件中搜索以下代码

php if(is_user_logged_in()){echo ' '.$u_name.'   '; echo '      ';}else{echo ' ';}; wp_loginout(); ?>
替换为以下代码

php if(is_user_logged_in()){ echo ' '.$u_name.' '; }else{ echo ' 注册'; }; echo '    ';echo wp_loginout();echo''; ?>
OK!

## 文章页评论不计数
如果你发现的的文字页面下面的评论不计数，一直都是0的话，可以照着试试，打开single.php,找到以下代码'去', '1', '%').'评论，替换为'0', '1', '%').'评论，看看好了吗？

## 投稿怎么添加或者投稿无法使用
投稿功能是主题自带的，首先在后台主题设置里面先打开这个功能，然后新建页面，选择投稿这个模板就好了

如果启用之后，新建页面了还是没法开启投稿功能或者不能用，看这篇文章
欲思主题更换投稿页面
## 网站标题和描述之间添加分割符号添加
主题在首页，网站标题有点问题，那就是网站名和网站描述会挤在一起，但是很明显，这不是我们想要的，我们想哟的是这样的
20141103212757
怎么才能做到呢，有两种方法

第一种，也是推荐的方法
在header.php文件里面搜索以下代码

修改成下面代码就好了

第二种方法，也是比较傻瓜点的方法了
2014-11-03_214350
在设置里面的描述前面加个横线就可以了

## 友情链接页面不显示链接
这是一个血的教训，我自己之前怎么弄也弄不好，然后才发现问题
新建页面，确定为友情链接模板之后，在链接里面寻找ID
2014-11-03_214854
把鼠标放在链接分类上面，然后可以查看分类ID,比如这个分类就是69，
然后在主题后台添加这个ID，就可以了
2014-11-03_215050
然后好了吧

## 私密文章密码提交按钮错位
给single.php添加一下样式代码

input{padding:0px 20px;height : 30px;}
## 页面竖行菜单
首先看一张截图吧，这个就是最后效果
2014-11-20_155620
首先进入后台，外观——菜单选项，欲思主题自带了两个菜单，一个是导航菜单，就是全站头部黑色的导航条菜单，还有一个就是页面菜单
进入菜单，需要有两个菜单，如果不够自己新建一个吧
2014-11-20_155843
然后再左边页面里面选择准备显示出来的页面
2014-11-20_160217
然后在下面选择页面菜单
2014-11-20_160334
保存菜单，然后看效果吧

## 改头部文字logo为图片logo
欲思主题的logo为文字，但是有很多人想改成图片，这个做个好图就行了，看怎么做吧
2014-11-21_203953
首先如上图，打开header.php文件，在文件中搜索以下代码，很好找的

  class="yusi-mono">php bloginfo('name'); ?>  class="yusi-bloger">php bloginfo('description'); ?>
将他换成下面的代码

 src="logo图片链接，格式png，大小自己看情况控制吧">
logo图片大小参考200*70
OK！！
## 给头部添加背景图
在主题文件打开header.php文件，寻找以下代码

 id="header" class="header">
更改为以下代码

 style="background: url('自己添加jpg格式图片链接') center 0px repeat-x;background-size: cover;" id="header" class="header">
背景图片大小参考1100*150
